function SaveNewGoal(i){chrome.storage.sync.get("accomplishGoalsList",function(i){var e=i.accomplishGoalsList;void 0===i.accomplishGoalsList&&(e=[]),e.push({title:$titleInput.val(),begin:$beginInput.val(),end:$endInput.val(),description:$descriptionInput.val()}),chrome.storage.sync.set({accomplishGoalsList:e})}),$goalFormWrapper.fadeOut(100),location.reload()}function EditGoal(i){chrome.storage.sync.get("accomplishGoalsList",function(e){if(void 0!==e.accomplishGoalsList){var a=e.accomplishGoalsList;if(i>a.length)return;var t=a[i];t.title=$titleInput.val(),t.begin=$beginInput.val(),t.end=$endInput.val(),t.description=$descriptionInput.val(),chrome.storage.sync.set({accomplishGoalsList:a})}}),$goalFormWrapper.fadeOut(100),location.reload()}function RemoveGoal(i){chrome.storage.sync.get("accomplishGoalsList",function(e){if(void 0!==e.accomplishGoalsList){var a=e.accomplishGoalsList;a.splice(i,1),chrome.storage.sync.set({accomplishGoalsList:a})}}),$goalFormWrapper.fadeOut(100),location.reload()}function Initialize(){chrome.storage.sync.get("accomplishGoalsList",function(i){if(void 0!==i.accomplishGoalsList){var e=0;i.accomplishGoalsList.forEach(function(i){var a="<div class=goal-item><nobr><span class=goal-property-title>"+i.title+'</span><div class=goal-property-edit-button> </div><span class="goal-property-end float-right">'+DaysUntil(i.end)+" days</span></nobr>";a+="<input type=hidden name=goal-title />",a+="<input type=hidden name=goal-begin />",a+="<input type=hidden name=goal-end />",a+="<input type=hidden name=goal-description />",a+="<input type=hidden name=goal-index />",void 0!==i.begin&&(a+='<div class="progress-bar-wrapper"><div class="progress-bar-finished"style="width:'+CurrentProgressToGoal(i.begin,i.end)+'%"></div></div>'),a+="</div>",void 0!==i.description&&(a+='<div class="goal-property-description">'+i.description+"</div>"),a+="</div>",$("#goals-list").append(a);var t=$(".goal-item").last();$(t).find("[name=goal-title]").val(i.title),$(t).find("[name=goal-begin]").val(i.begin),$(t).find("[name=goal-end]").val(i.end),$(t).find("[name=goal-description]").val(i.description),$(t).find("[name=goal-index]").val(e),e++})}}),$("#main-form").submit(function(i){i.preventDefault()}),$("#new-goal-submit").click(function(){SaveNewGoal()}),$("#remove-goal-submit").click(function(){RemoveGoal($indexInput.val())}),$("#edit-goal-submit").click(function(){EditGoal($indexInput.val())})}function CurrentProgressToGoal(i,e){var a=new Date(e).getTime(),t=new Date(i).getTime(),o=(new Date).getTime();return a<t||a<o?0:(100*((o-t)/(a-t))).toString()}function DaysUntil(i){var e=new Date(i),a=new Date;return Math.round(Math.abs((e.getTime()-a.getTime())/864e5))}$(document).on("DOMContentLoaded",function(){Initialize()});