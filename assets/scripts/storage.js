function SaveNewGoal(e){chrome.storage.sync.get("accomplishGoalsList",function(e){var i=e.accomplishGoalsList;void 0===e.accomplishGoalsList&&(i=[]),i.push({title:$("input[name=newgoal-title]").val(),begin:$("input[name=newgoal-begin]").val(),end:$("input[name=newgoal-end]").val(),description:$("input[name=newgoal-description]").val()}),chrome.storage.sync.set({accomplishGoalsList:i})})}function Initialize(){chrome.storage.sync.get("accomplishGoalsList",function(e){if(void 0!==e.accomplishGoalsList){var i=0;e.accomplishGoalsList.forEach(function(e){var n="<div class=goal-item data-index="+i+"><nobr><span class=goal-property-title>"+e.title+'</span><div class=goal-property-edit-button> </div><span class="goal-property-end float-right">'+DaysUntil(e.end)+" days</span></nobr>";n+="<input type=hidden name=goal-title />",n+="<input type=hidden name=goal-begin />",n+="<input type=hidden name=goal-end />",n+="<input type=hidden name=goal-description />",void 0!==e.begin&&(n+='<div class="progress-bar-wrapper"><div class="progress-bar-finished"style="width:'+CurrentProgressToGoal(e.begin,e.end)+'%"></div></div>'),n+="</div>",void 0!==e.description&&(n+='<div class="goal-property-description">'+e.description+"</div>"),n+="</div>",$("#goals-list").append(n);var a=$(".goal-item").last();$(a).find("[name=goal-title]").val(e.title),$(a).find("[name=goal-begin]").val(e.begin),$(a).find("[name=goal-end]").val(e.end),$(a).find("[name=goal-description]").val(e.description),i++})}}),$("#main-form").submit(SaveNewGoal)}function CurrentProgressToGoal(e,i){var n=new Date(i).getTime(),a=new Date(e).getTime(),t=(new Date).getTime();return n<a||n<t?0:(100*((t-a)/(n-a))).toString()}function DaysUntil(e){var i=new Date(e),n=new Date;return Math.round(Math.abs((i.getTime()-n.getTime())/864e5))}$(document).on("DOMContentLoaded",function(){Initialize()});